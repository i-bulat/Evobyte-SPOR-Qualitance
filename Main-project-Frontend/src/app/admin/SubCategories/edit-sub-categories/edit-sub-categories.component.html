<div class="columns mt-6 mb-6">
    <div class="column is-7 ml-6" id="order-list">
        <div class="mt-5 mb-5 is-size-3 has-text-weight-bold">
            <span>Edit Sub Category</span>
        </div>
            <table class="table">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Category</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody *ngFor="let subCategory of subCategories; let i = index" [attr.data-index]="i">
                    <tr>
                        <td>{{subCategory.id}}</td>
                        <td><input (ngModelChange)="hasChanged[i] = true" [(ngModel)]="subCategories[i].name"
                                class="input" type="text" placeholder="name"></td>
                        <td><textarea (ngModelChange)="hasChanged[i] = true" [(ngModel)]="subCategories[i].description"
                                class="textarea has-fixed-size" placeholder="description"></textarea></td>

                        <td>
                            <div class="select">
                                <select (ngModelChange)="hasChanged[i] = true" class="is-hover" name="Category"
                                    [(ngModel)]="subCategories[i].productCategory">
                                    <option *ngFor="let category of Categories" [value]="category.id">{{category.name}}
                                    </option>
                                </select>
                            </div>
                        </td>

                        <td *ngIf="hasChanged[i] == true"><button class="button is-primary"
                                (click)="changeSubCategory(subCategory.id, i)">Save</button></td>
                        <td *ngIf="hasChanged[i] == false || hasChanged[i] == undefined"><button disabled class="button is-primary"
                                (click)="changeSubCategory(subCategory.id, i)">Save</button></td>

                        <td><button class="button is-danger" (click)="deleteSubCategory(subCategory.id)">Delete</button>
                        </td>
                    </tr>
                    <div></div>
                </tbody>
            </table>
            <app-create-sub-category (addedSubCategory)="addSubCategory($event)"></app-create-sub-category>
    </div>
</div>